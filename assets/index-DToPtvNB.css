*{box-sizing:border-box}body{margin:0;font-family:Arial,Helvetica,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}input[type=range]{-webkit-appearance:none;appearance:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;height:20px;width:20px;border-radius:50%;background:#fff;border:2px solid #3b82f6;cursor:pointer;box-shadow:0 2px 6px #0003;transition:all .2s ease}input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 4px 12px #0000004d}input[type=range]::-moz-range-thumb{height:20px;width:20px;border-radius:50%;background:#fff;border:2px solid #3b82f6;cursor:pointer;box-shadow:0 2px 6px #0003;transition:all .2s ease}@keyframes pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.05)}}@keyframes bounce{0%,20%,53%,80%,to{transform:translateY(0)}40%,43%{transform:translateY(-8px)}70%{transform:translateY(-4px)}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes slideUp{0%{opacity:0;transform:translate(-50%) translateY(10px)}to{opacity:1;transform:translate(-50%) translateY(0)}}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}@keyframes pulse{0%{opacity:1;transform:translate(-50%) scale(1)}50%{opacity:.7;transform:translate(-50%) scale(1.05)}to{opacity:1;transform:translate(-50%) scale(1)}}.tutorial-hint{position:fixed;z-index:15500;background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border:2px solid #4a90e2;padding:.75rem 1rem;border-radius:.5rem;max-width:280px;min-width:220px;font-size:.875rem;color:#fff;box-shadow:0 8px 24px #0006,0 0 0 1px #4a90e24d;pointer-events:auto;animation:hintFadeIn .3s ease-out,hintPulse 2s ease-in-out infinite}.tutorial-hint-content{margin-bottom:.75rem;line-height:1.4}.tutorial-hint-button{background:linear-gradient(145deg,#4a90e2,#357abd);border:none;color:#fff;padding:.375rem .75rem;border-radius:.25rem;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .2s ease;width:100%;box-shadow:0 2px 4px #0003}.tutorial-hint-button:hover{background:linear-gradient(145deg,#357abd,#2c5f99);transform:translateY(-1px);box-shadow:0 4px 8px #0000004d}@keyframes hintFadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}@keyframes hintPulse{0%,to{box-shadow:0 8px 24px #0006,0 0 0 1px #4a90e24d}50%{box-shadow:0 8px 24px #0006,0 0 0 3px #4a90e280}}.my-cards-overlay{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:15000;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);animation:fadeIn .28s ease-out;pointer-events:auto}.welcome-content{padding:20px}.welcome-content h3{color:#fffffffa;margin-bottom:16px;text-align:center;font-size:1.6rem;font-weight:800;letter-spacing:.2px}.welcome-content p{color:#ffffffe0;line-height:1.6;margin-bottom:20px;text-align:center}.welcome-features{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:24px}.feature-item{display:flex;align-items:center;gap:8px;padding:12px;background:#ffffff05;border:1px solid rgba(255,255,255,.06);border-radius:8px;font-size:14px;color:#ffffffe6}.feature-icon{font-size:18px;color:#bfe6fff2}.feature-item span{color:#ffffffe6}.welcome-actions{display:flex;gap:12px;margin-top:20px;justify-content:center}.primary-action-btn{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;font-size:14px}.primary-action-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.secondary-action-btn{background:#ffffffe6;color:#333;border:2px solid #ddd;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;font-size:14px}.secondary-action-btn:hover{background:#fff;border-color:#667eea;color:#667eea}.welcome-tip{margin-top:20px;padding:12px;background:#ffffff05;border:1px solid rgba(255,215,0,.12);border-radius:6px;font-size:14px;color:#fffae6f2;text-align:center}.my-cards-modal{background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border-radius:16px;border:2px solid #4a4a6a;width:90%;max-width:800px;height:72vh;display:flex;flex-direction:column;box-shadow:0 20px 40px #00000080;animation:slideIn .28s cubic-bezier(.2,.8,.2,1);pointer-events:auto}.my-cards-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid rgba(74,74,106,.9);background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border-top-left-radius:16px;border-top-right-radius:16px;overflow:hidden}.my-cards-title{font-size:1.5rem;font-weight:700;color:#fff;margin:0}.my-cards-close{background:none;border:none;color:#aaa;font-size:2rem;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.my-cards-close:hover{background:#ffffff1a;color:#fff}.my-cards-content{flex:1;overflow-y:auto;padding:24px}.empty-cards{text-align:center;padding:60px 20px;color:#aaa}.empty-icon{font-size:4rem;margin-bottom:16px}.cards-sections{display:flex;flex-direction:column;gap:32px}.cards-section{display:flex;flex-direction:column;gap:16px}.section-title{font-size:1.2rem;font-weight:700;color:#fff;margin:0;padding-bottom:8px;border-bottom:2px solid #4a4a6a}.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px}.card-item{background:linear-gradient(145deg,#3a3a4e,#2a2a3e);border:2px solid #5a5a7a;border-radius:12px;padding:16px;display:flex;gap:12px;transition:all .2s;box-shadow:0 4px 8px #0000004d}.card-item:hover{transform:translateY(-2px);box-shadow:0 6px 12px #0006}.card-item.completed{border-color:#4caf50;background:linear-gradient(145deg,#2a4a2e,#1a3a1e)}.card-item.active{border-color:#2196f3;background:linear-gradient(145deg,#2a3a4e,#1a2a3e);animation:pulse-glow 2s infinite}.card-item.declined{border-color:#666;background:linear-gradient(145deg,#3a3a3a,#2a2a2a);opacity:.7}.card-icon{font-size:2rem;min-width:48px;display:flex;align-items:flex-start;justify-content:center;padding-top:4px}.card-content{flex:1;display:flex;flex-direction:column;gap:8px}.card-header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}.card-title{font-size:1.1rem;font-weight:700;color:#fff;margin:0;flex:1}.ask-ai-btn{background:linear-gradient(145deg,#3b82f6,#2563eb);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #0003;flex-shrink:0}.ask-ai-btn:hover{background:linear-gradient(145deg,#2563eb,#1d4ed8);transform:translateY(-1px);box-shadow:0 4px 8px #0000004d}.ask-ai-btn:active{transform:translateY(0);box-shadow:0 2px 4px #0003}.ask-ai-btn img{border-radius:50%;border:1px solid rgba(255,255,255,.3)}.card-description{color:#ddd;font-size:.9rem;line-height:1.4;margin:0}.card-meta{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}.card-focus{color:#87ceeb;font-size:.8rem;background:#87ceeb1a;padding:4px 8px;border-radius:4px}.card-reward{color:gold;font-size:.8rem;background:#ffd7001a;padding:4px 8px;border-radius:4px;font-weight:700}.card-effects{display:flex;align-items:center;gap:8px;flex-wrap:wrap;font-size:.8rem}.effects-label{color:#ff6b6b;font-weight:700}.effects-value{color:#fff;background:#ff6b6b1a;padding:2px 6px;border-radius:4px;font-weight:700}.effects-targets{color:#aaa}.card-status{font-size:.8rem;margin-top:4px}.status-completed{color:#4caf50;font-weight:700}.status-active{color:#2196f3;font-weight:700}.status-declined{color:#999}.status-pending{color:orange}.card-tip{color:gold;font-size:.8rem;margin:4px 0 0;padding:8px;background:#ffd7001a;border-radius:4px;border-left:3px solid #ffd700}.card-completion{margin-top:8px;padding:8px;background:#4caf501a;border-radius:4px;border-left:3px solid #4caf50}@keyframes pulse-glow{0%,to{box-shadow:0 4px 8px #0000004d}50%{box-shadow:0 4px 8px #2196f366}}@media (max-width: 768px){.my-cards-modal{width:95%;height:90vh}.cards-grid{grid-template-columns:1fr}.card-meta{flex-direction:column;align-items:flex-start;gap:6px}}.history-modal-overlay{position:fixed;inset:0;background:transparent;display:flex;align-items:center;justify-content:center;z-index:16000;animation:fadeIn .28s ease-out;pointer-events:none}.history-modal{background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border-radius:16px;border:2px solid #4a4a6a;width:90%;max-width:900px;height:72vh;display:flex;flex-direction:column;box-shadow:0 20px 40px #00000080;animation:slideIn .28s cubic-bezier(.2,.8,.2,1);pointer-events:auto}.history-modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid rgba(74,74,106,.9);background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border-top-left-radius:16px;border-top-right-radius:16px;overflow:hidden}.history-modal-title{font-size:1.5rem;font-weight:700;color:#fff;margin:0;display:flex;align-items:center;gap:.5rem}.history-modal-close{background:none;border:none;color:#aaa;font-size:2rem;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.history-modal-close:hover{background:#ffffff1a;color:#fff}.history-modal-content{flex:1;overflow-y:auto;padding:24px;display:flex;flex-direction:column;gap:1.5rem}.chart-section{background:linear-gradient(145deg,#3a3a4e,#2a2a3e);border:2px solid #5a5a7a;border-radius:12px;padding:1.5rem;box-shadow:0 4px 8px #0000004d}.chart-title{font-size:1.2rem;font-weight:600;color:#fff;margin-bottom:1rem;text-align:center}.chart-container{display:flex;justify-content:center;margin-bottom:1rem}.chart-svg{background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border:1px solid #4a4a6a;border-radius:8px}.no-data-message{text-align:center;color:#aaa;padding:2rem;font-size:1rem}.summary-section{background:linear-gradient(145deg,#3a3a4e,#2a2a3e);border:2px solid #5a5a7a;border-radius:12px;padding:1rem;box-shadow:0 4px 8px #0000004d}.summary-title{font-size:1rem;font-weight:600;color:#fff;margin-bottom:.5rem}.summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.summary-item{display:flex;flex-direction:column}.summary-label{font-size:.8rem;color:#87ceeb;margin-bottom:.25rem}.summary-value{font-size:1.1rem;font-weight:700}.summary-value.positive{color:#4caf50}.summary-value.negative{color:#ef4444}.summary-value.neutral{color:#fff}@media (max-width: 768px){.history-modal{width:95%;height:90vh}.history-modal-header{padding:16px 20px}.history-modal-title{font-size:1.2rem}.history-modal-content{padding:20px}.chart-svg{width:100%;height:auto}.summary-grid{grid-template-columns:1fr}}.ai-panel-container{position:relative;z-index:1050}.markdown-content{font-family:inherit}.markdown-content h1,.markdown-content h2,.markdown-content h3,.markdown-content h4,.markdown-content h5,.markdown-content h6{margin:.5rem 0 .25rem;font-weight:700;color:#374151}.markdown-content h1{font-size:1.1rem}.markdown-content h2{font-size:1.05rem}.markdown-content h3{font-size:1rem}.markdown-content h4{font-size:.95rem}.markdown-content h5{font-size:.9rem}.markdown-content h6{font-size:.85rem}.markdown-content p{margin:.25rem 0;line-height:1.4}.markdown-content strong{font-weight:700;color:#1f2937}.markdown-content em{font-style:italic;color:#4b5563}.markdown-content code{background-color:#f3f4f6;padding:.125rem .25rem;border-radius:.25rem;font-family:Courier New,monospace;font-size:.8rem;color:#dc2626}.markdown-content pre{background-color:#f3f4f6;padding:.5rem;border-radius:.375rem;overflow-x:auto;margin:.5rem 0}.markdown-content pre code{background:none;padding:0;color:#374151}.markdown-content ul,.markdown-content ol{margin:.25rem 0 .25rem 1rem;padding-left:.5rem}.markdown-content li{margin:.125rem 0}.markdown-content blockquote{border-left:3px solid #d1d5db;padding-left:.5rem;margin:.5rem 0;color:#6b7280;font-style:italic}.markdown-content a{color:#3b82f6;text-decoration:underline}.markdown-content a:hover{color:#1d4ed8}.markdown-content table{border-collapse:collapse;width:100%;margin:.5rem 0;font-size:.8rem}.markdown-content th,.markdown-content td{border:1px solid #d1d5db;padding:.25rem .5rem;text-align:left}.markdown-content th{background-color:#f9fafb;font-weight:700}.markdown-content hr{border:none;border-top:1px solid #e5e7eb;margin:.75rem 0}.main-game-layout{display:grid;grid-template-rows:100px 1fr 180px;grid-template-columns:minmax(200px,250px) 1fr minmax(300px,400px);grid-template-areas:"header header header" "left-panel main-content right-panel" "asset-toolbar asset-toolbar asset-toolbar";height:100vh;width:100vw;overflow:hidden;position:relative}.layout-header{grid-area:header;height:100px;min-height:100px;max-height:100px;z-index:10;position:relative;background:transparent;overflow:hidden}.layout-left-panel{grid-area:left-panel;z-index:12;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;justify-content:flex-start;padding:1rem;min-width:200px;max-width:250px;height:100%;background:transparent;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.3) transparent}.left-action-group{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;width:100%;height:100%}.left-action-btn{background-color:transparent;border:none;cursor:pointer;transition:transform .15s ease;padding:.75rem 1rem;width:88%;border-radius:.9rem;display:flex;align-items:center;justify-content:center}.left-action-btn:hover{transform:translateY(-3px) scale(1.03)}.left-action-content{display:flex;flex-direction:column;align-items:center;gap:.5rem}.left-action-icon{width:4.5rem;height:4.5rem;object-fit:contain}.left-action-label{font-size:.95rem;font-weight:700;color:#1e3a8a;text-transform:uppercase;letter-spacing:.04em;text-align:center}@media (max-width: 768px){.left-action-btn{width:60%;padding:.5rem .75rem}.left-action-icon{width:3.25rem;height:3.25rem}.left-action-label{font-size:.8rem}}.left-action-btn:focus{outline:none;box-shadow:none}.layout-left-panel::-webkit-scrollbar{width:8px}.layout-left-panel::-webkit-scrollbar-track{background:#ffffff1a;border-radius:4px}.layout-left-panel::-webkit-scrollbar-thumb{background:#0000004d;border-radius:4px}.layout-left-panel::-webkit-scrollbar-thumb:hover{background:#00000080}.layout-main-content{grid-area:main-content;z-index:11;overflow-y:auto;overflow-x:hidden;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100%;padding:1rem;background:transparent;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}.layout-main-content::-webkit-scrollbar{width:8px}.layout-main-content::-webkit-scrollbar-track{background:#ffffff1a;border-radius:4px}.layout-main-content::-webkit-scrollbar-thumb{background:#0000004d;border-radius:4px}.layout-main-content::-webkit-scrollbar-thumb:hover{background:#00000080}.layout-right-panel{grid-area:right-panel;z-index:13;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;justify-content:flex-start;min-width:300px;max-width:400px;height:100%;padding:2rem 1rem;background:transparent;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.3) transparent}.layout-right-panel::-webkit-scrollbar{width:8px}.layout-right-panel::-webkit-scrollbar-track{background:#ffffff1a;border-radius:4px}.layout-right-panel::-webkit-scrollbar-thumb{background:#0000004d;border-radius:4px}.layout-right-panel::-webkit-scrollbar-thumb:hover{background:#00000080}.layout-asset-toolbar{grid-area:asset-toolbar;height:180px;min-height:180px;max-height:180px;z-index:15;display:flex;align-items:center;justify-content:center;padding:1rem;position:fixed;left:0;right:0;bottom:0;background:transparent;border-top:none;overflow:visible}.island-container{width:100%;max-width:1300px;min-height:800px;display:flex;align-items:center;justify-content:center;margin:2rem 0}.background-decoration{position:absolute;pointer-events:none;z-index:-2}.modal-container{position:fixed;inset:0;z-index:5000;pointer-events:none}.panel-overlay{position:fixed;inset:0;background:#00000059;display:flex;align-items:center;justify-content:center;z-index:14000}.panel-card{background:transparent;width:540px;max-height:calc(100vh - 200px);height:min(70vh,calc(100vh - 200px));border-radius:16px;padding:0;position:relative}.panel-close{position:absolute;top:8px;right:8px;background:#ef4444;color:#fff;border:none;border-radius:50%;width:28px;height:28px;font-size:20px;cursor:pointer}.card-collection-panel{position:relative;display:flex;align-items:center;justify-content:center;width:100%}.card-collection-card{background-color:beige;padding:1.5rem;border-radius:1rem;width:min(48rem,95%);max-height:70vh;display:flex;gap:1.5rem;position:relative}.two-column-wrap{display:flex;gap:1rem;width:100%}.two-column-wrap .col{flex:1;display:flex;flex-direction:column}.two-column-wrap .col h2{text-align:center;color:#1e3a8a;margin-bottom:.5rem}.col-scroll{overflow-y:auto;padding-right:.5rem}.card-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem}.card-item{background:#fff;padding:.5rem 1rem;border-radius:.5rem;display:flex;justify-content:space-between}@media (max-width: 1200px){.main-game-layout{grid-template-columns:180px 1fr 280px}.layout-left-panel{min-width:180px;max-width:180px;padding:.5rem}.layout-right-panel{min-width:280px;max-width:280px}.island-container{margin:1rem 0}}@media (max-width: 768px){.main-game-layout{grid-template-columns:1fr;grid-template-rows:auto auto 1fr auto auto;grid-template-areas:"header" "left-panel" "main-content" "right-panel" "asset-toolbar"}.layout-left-panel,.layout-right-panel{min-width:unset;max-width:unset;padding:.5rem;flex-direction:row;justify-content:space-around;max-height:150px;overflow-x:auto;overflow-y:hidden}.layout-main-content{padding:.5rem}.layout-asset-toolbar{height:100px;min-height:80px}.island-container{margin:1rem 0;min-height:300px}}@media (max-width: 480px){.layout-header{min-height:60px;max-height:80px}.layout-asset-toolbar{height:80px;min-height:60px;padding:.25rem}.layout-left-panel,.layout-right-panel{max-height:120px}.island-container{min-height:250px;margin:.5rem 0}}@media (prefers-reduced-motion: no-preference){.layout-main-content,.layout-left-panel,.layout-right-panel{scroll-behavior:smooth}}.card-choice-overlay{position:fixed;inset:0;background:transparent;display:flex;align-items:center;justify-content:center;z-index:15001;animation:fadeIn .28s ease-out;pointer-events:none}.card-choice-modal{background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border-radius:16px;border:2px solid #4a4a6a;max-width:500px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 20px 40px #00000080;animation:slideIn .28s cubic-bezier(.2,.8,.2,1);pointer-events:auto}.card-choice-content{padding:0}.card-choice-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #4a4a6a;background:linear-gradient(145deg,#3a3a4e,#2a2a3e)}.header-buttons{display:flex;align-items:center;gap:12px}.ask-ai-btn-modal{background:linear-gradient(145deg,#3b82f6,#2563eb);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #0003}.ask-ai-btn-modal:hover{background:linear-gradient(145deg,#2563eb,#1d4ed8);transform:translateY(-1px);box-shadow:0 4px 8px #0000004d}.ask-ai-btn-modal:active{transform:translateY(0);box-shadow:0 2px 4px #0003}.ask-ai-btn-modal img{border-radius:50%;border:1px solid rgba(255,255,255,.3)}.card-choice-title{font-size:1.5rem;font-weight:700;color:#fff;margin:0}.card-choice-close{background:none;border:none;color:#aaa;font-size:2rem;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.card-choice-close:hover{background:#ffffff1a;color:#fff}.mission-card-display,.event-card-display{padding:24px}.mission-card-placeholder,.event-card-placeholder{background:linear-gradient(145deg,#3a3a4e,#2a2a3e);border:2px solid #5a5a7a;border-radius:12px;padding:20px;text-align:center;box-shadow:0 4px 8px #0000004d}.mission-icon,.event-icon{font-size:3rem;margin-bottom:12px}.mission-title,.event-title{font-size:1.3rem;font-weight:700;color:#fff;margin:0 0 12px}.mission-background,.event-description{color:#ddd;line-height:1.5;margin-bottom:16px;font-size:1rem}.mission-details{text-align:left;margin-top:16px}.mission-tip{color:gold;margin-bottom:8px;font-size:.9rem}.mission-completion{background:#4caf501a;border-radius:6px;padding:8px 12px;margin-bottom:8px;border-left:3px solid #4caf50}.completion-label{display:block;color:#4caf50;font-size:.75rem;font-weight:700;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.completion-description{color:#fff;font-size:.85rem;font-weight:500}.mission-focus{color:#87ceeb;margin-bottom:12px;font-size:.9rem}.mission-reward{text-align:center;margin-top:16px}.stars{background:linear-gradient(45deg,gold,#ffed4e);color:#333;padding:8px 16px;border-radius:20px;font-weight:700;display:inline-block}.event-duration{color:orange;font-size:.9rem;margin-bottom:12px}.event-effects{background:#ffffff0d;border-radius:8px;padding:12px;margin-top:12px;text-align:left}.effects-label{color:#ff6b6b;font-weight:700;margin-bottom:6px;font-size:.9rem}.effects-detail{color:#fff;margin-bottom:6px;font-size:.9rem}.effects-targets{color:#aaa;font-size:.8rem}.card-choice-actions{display:flex;gap:12px;padding:20px 24px;border-top:1px solid #4a4a6a;background:#0003}.card-choice-btn{flex:1;padding:12px 24px;border:none;border-radius:8px;font-weight:700;font-size:1rem;cursor:pointer;transition:all .2s}.card-choice-btn.decline{background:linear-gradient(145deg,#666,#555);color:#ddd}.card-choice-btn.decline:hover{background:linear-gradient(145deg,#777,#666);transform:translateY(-1px)}.card-choice-btn.accept{background:linear-gradient(145deg,#4caf50,#45a049);color:#fff}.card-choice-btn.accept:hover{background:linear-gradient(145deg,#5cbf60,#4caf50);transform:translateY(-1px);box-shadow:0 4px 8px #4caf504d}.card-choice-btn.full-width{flex:none;width:100%}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.mission-completed-overlay{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100;animation:fadeIn .5s ease-out}.mission-completed-modal{background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border-radius:20px;border:3px solid #ffd700;max-width:500px;width:90%;text-align:center;position:relative;overflow:hidden;box-shadow:0 20px 40px #ffd7004d;animation:celebration-entrance .8s ease-out}.mission-completed-modal.celebrate{animation:celebrate-bounce .6s ease-in-out}.mission-completed-modal.exit{animation:celebration-exit .3s ease-in}.celebration-animation{position:absolute;inset:0;pointer-events:none;overflow:hidden}.celebration-stars{position:absolute;width:100%;height:100%}.star{position:absolute;font-size:1.5rem;animation:star-burst 2s ease-out infinite}.star-1{top:20%;left:10%;animation-delay:0s}.star-2{top:30%;right:15%;animation-delay:.2s}.star-3{top:60%;left:20%;animation-delay:.4s}.star-4{top:70%;right:25%;animation-delay:.6s}.star-5{top:40%;left:50%;animation-delay:.8s}.celebration-fireworks{position:absolute;width:100%;height:100%}.firework{position:absolute;font-size:2rem;animation:firework-burst 1.5s ease-out infinite}.firework-1{top:25%;left:30%;animation-delay:.3s}.firework-2{top:50%;right:30%;animation-delay:.7s}.firework-3{top:75%;left:60%;animation-delay:1.1s}.mission-completed-content{padding:40px 32px;position:relative;z-index:1}.completion-icon{font-size:4rem;margin-bottom:16px;animation:icon-celebration 1s ease-out}.completion-title{font-size:2rem;font-weight:700;color:gold;margin:0 0 24px;text-shadow:0 2px 4px rgba(0,0,0,.5);animation:title-glow 2s ease-in-out infinite alternate}.mission-info{margin-bottom:24px;padding:16px;background:#ffffff0d;border-radius:12px;border:1px solid rgba(255,215,0,.3)}.mission-name{font-size:1.3rem;color:#fff;margin:0 0 8px}.mission-focus{color:#87ceeb;margin:0;font-size:1rem}.reward-section{margin-bottom:24px;padding:20px;background:linear-gradient(145deg,#ffd7001a,#ffd7000d);border-radius:12px;border:2px solid rgba(255,215,0,.3)}.stars-label{display:block;color:gold;font-weight:700;margin-bottom:12px;font-size:1.1rem}.stars-display{display:flex;justify-content:center;gap:8px}.reward-star{font-size:2rem;animation:star-collect .8s ease-out forwards;opacity:0;transform:scale(0)}.star-animate-0{animation-delay:.2s}.star-animate-1{animation-delay:.4s}.star-animate-2{animation-delay:.6s}.star-animate-3{animation-delay:.8s}.star-animate-4{animation-delay:1s}.completion-message{color:#ddd;line-height:1.5;margin-bottom:24px;font-size:1rem}.close-celebration-btn{background:linear-gradient(145deg,#4caf50,#45a049);color:#fff;border:none;padding:12px 32px;border-radius:25px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #4caf504d}.close-celebration-btn:hover{background:linear-gradient(145deg,#5cbf60,#4caf50);transform:translateY(-2px);box-shadow:0 6px 16px #4caf5066}@keyframes celebration-entrance{0%{opacity:0;transform:scale(.3) rotate(-10deg)}50%{transform:scale(1.1) rotate(5deg)}to{opacity:1;transform:scale(1) rotate(0)}}@keyframes celebrate-bounce{0%,to{transform:scale(1)}25%{transform:scale(1.05)}50%{transform:scale(1.1)}75%{transform:scale(1.05)}}@keyframes celebration-exit{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes icon-celebration{0%{transform:scale(0) rotate(0)}50%{transform:scale(1.2) rotate(180deg)}to{transform:scale(1) rotate(360deg)}}@keyframes title-glow{0%{text-shadow:0 2px 4px rgba(0,0,0,.5)}to{text-shadow:0 2px 4px rgba(0,0,0,.5),0 0 20px rgba(255,215,0,.5)}}@keyframes star-burst{0%{opacity:0;transform:scale(0) rotate(0)}20%{opacity:1;transform:scale(1.2) rotate(90deg)}80%{opacity:1;transform:scale(1) rotate(270deg)}to{opacity:0;transform:scale(0) rotate(360deg)}}@keyframes firework-burst{0%{opacity:0;transform:scale(0)}30%{opacity:1;transform:scale(1.5)}70%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0)}}@keyframes star-collect{0%{opacity:0;transform:scale(0) translateY(-20px)}50%{opacity:1;transform:scale(1.3) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@media (max-width: 768px){.mission-completed-modal{width:95%}.mission-completed-content{padding:32px 20px}.completion-icon{font-size:3rem}.completion-title{font-size:1.6rem}.reward-star{font-size:1.5rem}}.event-notifications{position:fixed;top:100px;right:20px;z-index:999;display:flex;flex-direction:column;gap:12px;pointer-events:none}.notification{background:linear-gradient(145deg,#2a2a3e,#1e1e2e);border:2px solid #4a4a6a;border-radius:12px;padding:12px 16px;display:flex;align-items:center;gap:8px;box-shadow:0 4px 12px #0000004d;min-width:200px;pointer-events:auto;animation:slideInRight .5s ease-out;transition:all .3s}.notification:hover{transform:translate(-4px);box-shadow:0 6px 16px #0006}.notification.pending-cards{border-color:orange;background:linear-gradient(145deg,#3a2a1e,#2a1e1e);animation:pulse-orange 2s infinite}.notification.new-cards{border-color:#4caf50;background:linear-gradient(145deg,#1e3a2a,#1e2a1e);cursor:pointer;animation:pulse-green 2s infinite}.notification.new-cards:hover{border-color:#5cbf60}.notification-icon{font-size:1.2rem;min-width:24px;display:flex;justify-content:center}.notification-text{color:#fff;font-size:.9rem;font-weight:500;white-space:nowrap}@keyframes slideInRight{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes pulse-orange{0%,to{box-shadow:0 4px 12px #0000004d}50%{box-shadow:0 4px 12px #ffa50066}}@keyframes pulse-green{0%,to{box-shadow:0 4px 12px #0000004d}50%{box-shadow:0 4px 12px #4caf5066}}@media (max-width: 768px){.event-notifications{top:80px;right:10px}.notification{min-width:180px;padding:10px 12px}.notification-text{font-size:.8rem}}@media (max-width: 480px){.event-notifications{left:10px;right:10px;top:70px}.notification{min-width:auto;width:100%}.notification-text{white-space:normal;line-height:1.3}}.achievement-overlay{position:fixed;inset:0;z-index:10000;display:flex;align-items:center;justify-content:center;background:#000c;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;animation:none}.achievement-overlay.enter{animation:fadeIn .5s ease-out forwards}.achievement-overlay.display{opacity:1}.achievement-overlay.exit{animation:fadeOut .5s ease-in forwards}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.achievement-container{position:relative;max-width:500px;width:90%;perspective:1000px}.achievement-glow{position:absolute;top:50%;left:50%;width:120%;height:120%;transform:translate(-50%,-50%);background:radial-gradient(circle,rgba(251,191,36,.3) 0%,rgba(251,191,36,.1) 50%,transparent 70%);border-radius:50%;animation:glowPulse 2s ease-in-out infinite alternate}@keyframes glowPulse{0%{transform:translate(-50%,-50%) scale(1);opacity:.3}to{transform:translate(-50%,-50%) scale(1.1);opacity:.6}}.achievement-content{position:relative;background:linear-gradient(135deg,#1f2937,#374151,#4b5563);border:3px solid #fbbf24;border-radius:20px;padding:40px 30px;text-align:center;color:#fff;box-shadow:0 20px 40px #00000080,inset 0 1px #ffffff1a;animation:slideInUp .6s cubic-bezier(.175,.885,.32,1.275);transform-style:preserve-3d}.achievement-close-button{position:absolute;top:15px;right:20px;background:#ffffff1a;border:none;color:#fff;font-size:24px;font-weight:700;width:35px;height:35px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;z-index:10}.achievement-close-button:hover{background:#fff3;transform:scale(1.1)}@keyframes slideInUp{0%{transform:translateY(100px) rotateX(-30deg);opacity:0}to{transform:translateY(0) rotateX(0);opacity:1}}.achievement-title{font-size:28px;font-weight:700;color:#fbbf24;margin-bottom:20px;text-shadow:0 2px 4px rgba(0,0,0,.5);animation:titlePulse 1s ease-in-out infinite alternate}@keyframes titlePulse{0%{text-shadow:0 2px 4px rgba(0,0,0,.5)}to{text-shadow:0 2px 8px rgba(251,191,36,.5),0 0 20px rgba(251,191,36,.3)}}.achievement-badge-container{position:relative;display:inline-block;margin:20px 0}.achievement-badge-icon{width:120px;height:120px;border-radius:15px;border:4px solid #fbbf24;box-shadow:0 8px 20px #0000004d;animation:badgeBounce .8s cubic-bezier(.175,.885,.32,1.275);position:relative;z-index:2}@keyframes badgeBounce{0%{transform:scale(0) rotate(-180deg);opacity:0}50%{transform:scale(1.2) rotate(-90deg)}to{transform:scale(1) rotate(0);opacity:1}}.achievement-badge-glow{position:absolute;top:50%;left:50%;width:140px;height:140px;transform:translate(-50%,-50%);background:radial-gradient(circle,rgba(251,191,36,.4) 0%,transparent 70%);border-radius:50%;animation:badgeGlow 2s ease-in-out infinite alternate;z-index:1}@keyframes badgeGlow{0%{transform:translate(-50%,-50%) scale(1);opacity:.4}to{transform:translate(-50%,-50%) scale(1.3);opacity:.8}}.achievement-name{font-size:24px;font-weight:700;color:#f9fafb;margin:20px 0 10px;text-shadow:0 2px 4px rgba(0,0,0,.5);animation:nameSlideIn .6s ease-out .3s both}@keyframes nameSlideIn{0%{transform:translate(-50px);opacity:0}to{transform:translate(0);opacity:1}}.achievement-description{font-size:16px;color:#d1d5db;margin:10px 0 20px;line-height:1.4;animation:descriptionSlideIn .6s ease-out .5s both}@keyframes descriptionSlideIn{0%{transform:translate(50px);opacity:0}to{transform:translate(0);opacity:1}}.achievement-details{display:flex;align-items:center;justify-content:center;gap:20px;margin:20px 0;animation:detailsFadeIn .6s ease-out .7s both}@keyframes detailsFadeIn{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.achievement-stars{display:flex;gap:4px}.achievement-star{display:inline-block;animation:starTwinkle .5s ease-in-out infinite alternate;animation-delay:calc(var(--star-index, 0) * .1s)}@keyframes starTwinkle{0%{transform:scale(1)}to{transform:scale(1.2)}}.achievement-trophy{font-size:18px;font-weight:700;text-transform:uppercase;letter-spacing:1px}.achievement-progress{display:flex;justify-content:center;gap:8px;margin-top:20px;animation:progressFadeIn .6s ease-out .9s both}@keyframes progressFadeIn{0%{opacity:0}to{opacity:1}}.achievement-progress-dot{width:10px;height:10px;border-radius:50%;background:#6b7280;transition:all .3s ease}.achievement-progress-dot.active{background:#fbbf24;transform:scale(1.3);box-shadow:0 0 10px #fbbf2480}.achievement-controls{display:flex;justify-content:center;margin-top:25px;animation:controlsFadeIn .6s ease-out 1.2s both}@keyframes controlsFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.achievement-control-button{padding:12px 24px;border:none;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;transition:all .2s ease;text-transform:uppercase;letter-spacing:.5px}.achievement-control-button.next{background:linear-gradient(90deg,#3b82f6,#1d4ed8);color:#fff;box-shadow:0 4px 12px #3b82f64d}.achievement-control-button.next:hover{transform:translateY(-2px);box-shadow:0 6px 16px #3b82f666}.achievement-control-button.close{background:linear-gradient(90deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.achievement-control-button.close:hover{transform:translateY(-2px);box-shadow:0 6px 16px #10b98166}.achievement-particles{position:absolute;inset:0;pointer-events:none;overflow:hidden;border-radius:20px}.particle{position:absolute;width:6px;height:6px;background:#fbbf24;border-radius:50%;animation:particleFloat 3s ease-in-out infinite;opacity:0}@keyframes particleFloat{0%{transform:translateY(100vh) rotate(0);opacity:0}10%{opacity:1}90%{opacity:1}to{transform:translateY(-100px) rotate(360deg);opacity:0}}@media (max-width: 768px){.achievement-content{padding:30px 20px}.achievement-title{font-size:24px}.achievement-badge-icon{width:100px;height:100px}.achievement-badge-glow{width:120px;height:120px}.achievement-name{font-size:20px}.achievement-description{font-size:14px}}
